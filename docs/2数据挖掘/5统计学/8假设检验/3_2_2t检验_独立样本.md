# 独立样本的t检验

### 独立样本的t检验
**独立样本的t检验**(independent t-test)是假定两个独立样本的总体均服从正态分布时的平均值之差的检验. 这个检验适用于:
A同学所在的班级(A班)开始流行肌肉锻炼, 这是一个文化系学生比较多的班级. 另外, B同学所在的隔壁班(B班)有很多体育系的学生, 平时就在锻炼肌肉. 如果肌肉锻炼有提高注意力的效果, 那么两个班级之间注意力测试的平均值就会有差异, 所以B所在班的学生也接受了注意力测试., 如何确认这两个班的学生的注意力是否有显著性差异呢?

```python
import pandas as pd
df = pd.DataFrame(
    {
        "A":[47,50,37,60,39,45,53,43,44,45,53,64,50,43,53,46,50,57,46,50],
        "B":[49,52,54,48,51,52,50,47,46,52,52,64,41,54,55,60,56,49,53,56]
    }
)
```
对于肌肉锻炼是否有提高注意力的效果, 可以比较A班和B班的注意力测试的平均分. 用$mu_1$表示A班的平均分, 用$mu_2$表示B班的平均分, 考虑一下假设检验:
1. 零假设: $\mu_1-\mu_2=0$
2. 备选假设: $\mu_1-\mu_2 \neq 0$

因为是独立样本, 所以这个差异没有任何意义. A班的样本和B班的样本应该是从不同的总体中抽取的. 如果可以假定这些总体为正态分布, 那么A班的分数$X_1,...,X_{n1}$服从$N(\mu,\sigma_1^2)$, B班的分数$Y_1,...,Y_{n2}$服从$N(\mu_2,\sigma_2^2)$.
根据这些假设, 检验统计量使用t表示, 即:
$$
t = \frac{\overline{X}-\overline{Y}-(\mu_1-\mu_2)}{\sqrt{\frac{s_1^2}{n_1}+\frac{s_2^2}{n_2}}}
$$
这个t服从自由度为
$$
df = \frac{(\frac{s_1^2}{n_1}+\frac{s_2^2}{n_2})^2}{\frac{s_1^4}{n_1^2(n_1-1)}+\frac{s_2^4}{n_2^2(n_2-1)}}
$$
的t分布, 这称为韦尔奇方法.
通过使用`stats.ttest_ind`函数并设置`equal_var=False`就可
```python
t, p = stats.ttest_ind(training_ind['A'], training_ind['B'],
                       equal_var=False)
p  # 0.087
```
结论是A班和B班之间的平均分没有显著差异.
