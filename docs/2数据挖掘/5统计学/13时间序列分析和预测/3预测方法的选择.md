# 预测方法的选择

## 选择预测方法
时间序列的预测方法既有传统方法，如简单平均法、移动平均法、指数平滑法等，也有较为精准的现代方法，如Box-Jenkins的自回归模型(ARMA)。

一般来说，任何时间序列中都会有不规则成分存在，而商务与管理数据中通常不考虑周期性，所以只剩下趋势成分和季节成分。本章所介绍的预测方法主要是针对平稳序列以及含有趋势或季节成分的时间序列。

- 存在趋势
    - 存在季节性: 季节性预测法(季节多元回归模型, 季节自回归模型, 时间序列分解)
    - 不存在季节性: 趋势预测法(线性趋势推测, 非线性趋势推测, 自回归预测模型)
- 不存在趋势
    - 存在季节性: 季节性预测法(季节多元回归模型, 季节自回归模型, 时间序列分解)
    - 不存在季节性: 平滑预测法(简单平均法, 移动平均法, 指数平滑法)


## 预测方法的评估
在选择某种特定的方法进行预测时，需要评价该方法的预测效果或准确性。评价的方法就是找出预测值与实际值的差距，这个差值就是预测误差。最优的预测方法也就是使预测误差最小的方法。预测误差的计算方法有几种，包括平均误差、平均绝对误差、均方误差、平均百分比误差和平均绝对百分比误差等。选择哪种方法取决于预测者的目标、对方法的熟悉程度等。

1. 平均误差

    设时间序列的第$i$个观察值为$Y_i$,预测值为$F_i$,所有预测误差$Y_i-F_i$的平均数就是平均误差(mean error), 用ME表示，$n$为预测值的个数, 其计算公式为：
    
    $$
    ME = \frac{\sum_{i=1}^n(Y_i-F_i)}{n}
    $$

    由于预测误差的数值可能有正有负，求和的结果就会相互抵消，在这种情况下，平均误差可能会低估误差。


2. 平均绝对误差
    
    平均绝对误差(mean absolute deviation)是将预测误差取绝对值后计算的平均误差，用MAD表示，其计算公式为：
    
    $$
    MAD = \frac{\sum_{i=1}^n |Y_i-F_i|}{n}
    $$
    
    平均绝对误差可以避免误差相互抵消的问题，因而可以准确反映实际预测误差的大小。

3. 均方误差

    均方误差(mean square error)是通过平方消去误差的正负号后计算的平均误差，用MSE表示，其计算公式为：

    $$
    ME = \frac{\sum_{i=1}^n(Y_i-F_i)^2}{n}
    $$


4. 平均百分比误差和平均绝对百分比误差

ME,MAD和MSE的大小受时间序列数据的水平和计量单位的影响，有时并不能真正反映预测模型的好坏，它们只有在比较不同模型对同一数据的预测时才有意义。而平均百分比误差(mean percentage error)和平均绝对百分比误差(mean absolute percentage error)则不同，它们消除了时间序列数据的水平和计量单位的影响，是反映误差大小的相对值。平均百分比误差用MPE表示，其计算公式为：

$$
MPE = \frac{\sum_{i=1}^n(\frac{Y_i-F_i}{Y_i}*100)}{n}
$$

平均绝对百分比误差用MAPE表示，其计算公式为：
$$
MPE = \frac{\sum_{i=1}^n(\frac{|Y_i-F_i|}{Y_i}*100)}{n}
$$