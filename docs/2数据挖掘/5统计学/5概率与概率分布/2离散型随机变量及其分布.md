# 离散型随机变量及其分布

## 随机变量的概念

为了把随机事件数量化，以便作数学上的处理，有必要把不采用数量标识表示化为采用数量标识表示。如，把每检验一件产品可能出现合格的指定为0，可能出现不合格的指定为1；或把每次抛掷一枚硬币可能出现正面的指定为0，可能出现反面的指定为1。这样把指定的0、1与合格、不合格一一对应，或把0、1与正面、反面一一对应，就可以把随机事件完全数量化了。

根据某随机事件A出现的概率定义P(A),可以把$A$换成数量标识$X$,于是$X$具有确定概率$P(X)$。如抛掷一枚硬币可能出现正面或反面，正面指定为0，即$X=x_1=0$;反面指定为1，即$X=x_2=1$.根据概率定义，$P(X=x_1)=P(X=0)=P（出现正面）=1/2$;$P(X=x_2)=P(X=1)=P（出现反面）=1/2$。显然0与1是变量X的两个可能值，由此引出随机变量的定义。

在同一组条件下，如果每次试验可能出现这样或那样的结果，并且所有的结果都能列举出来，即$X$的所有可能值$x_1,x_2,...,x_m$都能列举出来，而且$X$的可能值$x_1,x_2,...,x_m$具有确定概率$P(x_1),P(x_2),...,P(x_m)$,其中$P(x_i)=P(X=x_i)$,称为概率函数(probability function.),则$X$称为$P(X)$的随机变量，$P(X)$称为随机变量$X$的概率函数。

显然随机变量是基于随机事件的一个概念。既然各随机事件对应于一定的概率，那么随机变量也对应于一定的概率，而且用随机变量来研究所对应的一定的概率更全面、更系统。

按照随机变量的特性，通常可把随机变量分为两类，即离散型随机变量(discrete random variable)和连续型随机变量(continuous random variable)。

## 离散型随机变量的概率分布

### 离散型随机变量的概率分布
设有一离散型随机变量$X$,可能取值$x_1,x_2,...,x_n$,其相应的概率为$p_1,p_2,...,p_n$,即$P(X=x_i)=p_i(i=1,2,...,n)$:

||||||
--|--|--|--|--
$X=x_i$|x_1|x_2|...|x_n
$P(X=x_i)=p_i$|p_1|p_2|...|p_n

称该表格形式为离散型随机变量$X$的概率分布(probability distribution),其中，$P(X=x_i)=p_i$是X的概率函数。因为$x_1,x_2,...,x_n$构成一完备组，所以:

$$
\sum_{i=1}^n p_i=1
$$


### 离散型随机变量的期望值和方差


- 期望值:

    在离散型随机变量$X$的一切可能值的完备组中，各可能值$x_i$与其对应概率$p_i$的乘积之和称为该随机变量$X$的期望值(expected value),记作$E(X)$或$\mu$。

    若X取数值$x_1,x_2,...,x_n$,其对应的概率为$p_1,p_2,...,p_n$,则期望值为：

    $$
    E(X)=x_1p_1+x_2p_2+...+x_np_n=\sum_{i=1}^n x_i p_i
    $$

    期望值E(X)也称为随机变量X的数学期望。以掷色子为例，它的期望值为：

    $$
    \mu = E(X) = \sum_{i=1}^6 x_i p_i = 1*\frac{1}{6}+2*\frac{1}{6}+3*\frac{1}{6}+4*\frac{1}{6}+5*\frac{1}{6}+6*\frac{1}{6}=3.5
    $$


    > 由离散型随机变量X的期望值定义可看到，它与加权算术平均数的算法有点类似，其实它是加权算术平均数的一种推广。一般加权算术平均数是具体数据的平均指标，而这里所说的期望值是随机变量X的期望指标。


- 方差与标准差:

    如有一批灯泡，已知其平均寿命$E(X)=1000$小时，但仅由这一指标还不能判定这批灯泡质量的好坏，事实上，可能其中绝大部分灯泡的寿命都在950~1050小时左右（质量稳定）；也可能其中约一半是高质量，寿命大约有1300小时，另一半却是质量很差的，寿命大约只有700小时（质量不稳定）。因此为了正确评价灯泡质量，除考察灯泡平均寿命指标，还需要考察各个灯泡寿命$X$与一批灯泡寿命$E(X)=1000$小时的离差的平均水平。若这个值较小，则表示质量比较稳定，质量较好；反之，质量较差。

    随机变量的方差是用来反映随机变量取值的离散程度的。随机变量的方差定义为每一个随机变量取值与期望值的离差平方之期望值。设随机变量为$X$,其方差常用，$D(X)$或$V(X)$表示，本书采用$D(X)$,则
    $$
    \sigma^2=D(X)=E[X-E(X)]^2=\sum_{i=1}^n[x_i-E(X)]^2 p_i
    $$

    其中: $p_i=P\{X=x_i\}(i=1,2,...,n)$

    计算方差时, 通常使用简化后的公式:
    $$
    \sigma^2 = D(X) = E(X^2)-[E(X)]^2
    $$

    由定义可知，若$X$的取值比较集中，则方差较小；若$X$的取值比较分散，侧方差较大。如果方差为0，则意味着随机变量的取值集中于期望值$E(X)$,即随机变量以概率1取值$E(X)$。

    称随机变量方差的平方根为标准差，记为：

    $$
    \sigma = \sqrt{D(X)}
    $$

    对于掷色子的例子，随机变量X的方差为：

    $$
    \sigma^2=\sum_{i=1}^n[x_i-E(X)]^2 p_i=(1-3.5)^2*\frac{1}{6}+(2-3.5)^2*\frac{1}{6}+(3-3.5)^2*\frac{1}{6}+(4-3.5)^2*\frac{1}{6}+(15-3.5)^2*\frac{1}{6}+(6-3.5)^2*\frac{1}{6}=2.9167
    $$

    标准差$\sigma=1.7078$, 说明每次点数与平均点数3.5平均相距1.7078点.

### 二项分布

二项分布(binomial distribution)具有的性质:

- 包含$n$个相同的试验。
- 每次试验只有两个可能的结果：“成功”或“失败”。这里的“成功”和“失败”是广义的。如在某商品的调查中，“成功”表示喜欢这种商品，“失败”表示不喜欢这种商品。
- 出现“成功”的概率$p$对每一次试验是相同的，“失败”的概率$q$也是如此，且$p+q=1$.
- 试验是互相独立的。
- 试验“成功”或“失败”可以计数，即试验结果对应于一个离散型随机变量。


通常称具有上述特征的$n$次重复独立试验为$n$重伯努里试验，简称伯努里试验(Bernoulli trials). 以$X$表示$n$次重复独立试验中事件$A$（成功）出现的次数:

$$
P\{X=x\}=C_n^x p^x q^{n-x}, x=0,1,2,...,n
$$

显然有:

$$
P\{X=x\} \geq 0, x=0,1,2,...,n
$$

$$
\sum_{x=0}^n C_n^x p^x q^{n-x} = (p+q)^n = 1
$$

注意$C_n^x p^x q^{n-x}$是二项式$(p+q)^n$的展开式中的第$x+1$项, 所以称随机变量$X$服从二项分布, 参数为$n,p$, 记作$X \sim B(n,p)$.

二项分布的期望和方差分别为:
$$
E(X)=np \\
D(X)=npq
$$

特别地, 当$n=1$时, 称为0-1分布, 二项分布化为:

$$
P\{X=x\}=p^x q^{1-x}, x=0,1
$$

案例: 

已知100件产品中有5件次品，现从中任取1件，有放回地取3次，求在所取的3件中恰有2件次品的概率。

每次试验取到次品的概率为:

$$
P=\frac{5}{100}=0.05
$$

设$X$为取3次产品中次品的次数, 则$X \sim B(3, 0.05)$, 即$P(X=2)=C_3^2(0.05)^2(0.95)=0.007125$

如果将上题中的`有放回`改为`无放回`, 就不能用二项分布的概率公式计算, 因为每次的概率不同, 只能用古典概型求解:

$$
P\{X=2\}=\frac{C_5^2C_{95}^1}{C_{100}^3}=0.0059
$$

这个分布称为超几何分布. 设有$N$件产品, 其中有$M$件次品, 从中任意取$n$件, 则在$n$件中所含的次品件数$X$是一个随机变量, $X$的概率函数为:
$$
P\{X=m\}=\frac{C_M^mC_{N_M}^{n-m}}{C_N^n}
$$



### 泊松分布

泊松分布(Poisson distribution)是用来描述在一指定时间范围内或在指定的面积或体积之内某一事件出现的次数的分布。如, 某企业每月发生事故的次数, 某种仪器每月出现故障的次数.

设$\lambda$为给定的时间间隔内事件的平均数, 泊松分布的公式为:
$$
P(X)=\frac{\lambda^x e^{-\lambda}}{x!}, x=1,2,...
$$


泊松分布的期望和方差为:
$$
E(X)=\lambda \\
D(X)=\lambda
$$


案例:
假定某企业职工在周一请事假的人数X近似服从泊松分布，设周一请事假的平均数为2.5人。要求计算：
- X的均值与标准差。

    $X$的均值和方差均为2.5, 即$D(X)=2.5$, 标准差=$\sqrt{D(X)}=\sqrt{2.5}=1.581$

- 在给定的某周一正好请事假是5人的概率。
    $$
    P(5)=\frac{2.5^5 e^{-2.5}}{5!}=0.067
    $$

在$n$重伯努利试验中, 当成功概率很小时($p \rightarrow 0$), 试验次数很大时, 二项分布近似泊松分布, 即

$$
C_n^x p^x q^{n-x} \approx \frac{\lambda^x e^{-\lambda}}{x!}
$$

在实际应用中, 当$p \leq 0.25, n > 20, np \leq 5$时, 用泊松分布近似二项分布的效果良好.


案例:
已知某批集成电路的次品率为0.15%，随机抽取1000块集成电路，求次品数分别为0,1,2,3的概率。

“集成电路的次品数”看成随机变量X,显然X服从二项分布, $p=0.0015, n=1000$. 又因为$p=0.0015 < 0.25, np=1.5 < 5$ 可以用泊松分布近似计算, 其中$\lambda = np = 1.5$.

$P\{X=x\}$|$C_n^x p^x q^{n-x}$|$\frac{\lambda^x e^{-\lambda}}{x!}$|绝对差
--|--|--|--
$P\{X=0\}$|0.222879|0.223130|0.000251
$P\{X=1\}$|0.334821|0.334695|0.000126
$P\{X=2\}$|0.251241|0.251021|0.000220
$P\{X=3\}$|0.125558|0.125511|0.000047

可以看到二者的差距分厂小. 二项分布和泊松分布的计算都可以直接查表.




## 参考
- 统计学第8版78页








