# [网格体分类](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/)

babylon.js中有4大类网格体:

1. 固定形状(Set Shapes): 比如箱体(box), 球体(sphere), 椎体(cone), 平面(plane)
2. 调参形状(Parametric Shapes): 比如带状(ribbons), 挤压制品(extrusions), 不规则凸凹多边型()
3. 多面体(Polyhedra): 比如8面体(octahedron), 12面体(dodecahedron)
4. 自定义(Custom )

## 固定形状(Set Shapes)

1. [箱体(box)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/set/box)
    1. API: `const box = BABYLON.MeshBuilder.CreateBox("box", options, scene);`
    2. 常用参数:

        | 参数名 | 值类型&说明 | 默认值 |
        | ---- | ---- | ---- |
        | size | (number) 立方体每一面的大小，也就是长宽高统一都是这个值 | 1 |
        | height | (number) 单独设置高度Y，覆盖size的高度 | size |
        | width | (number) 单独设置长度X，覆盖size的长度 | size |
        | depth | (number) 单独设置宽度Z，也称为深度，覆盖size的长度 | size |
        | faceColors | (Color4[]) 是一个长度为6的数组，代表立方体的6个面，可以对其分别设置Color4颜色 | 每个面默认Color4(1, 1, 1, 1) |
        | faceUV | (Vector4[]) 是一个长度为6的数组，代表立方体的6个面，可以对其分别设置纹理贴图的应用范围Vector4，类似background-position | 每个面默认Vector4(0, 0, 1, 1) |
        | updatable | (boolean) 如果设置为true，则表示该物体的顶点数据可以被更新 | false |
        | sideOrientation | (number) 物体可被看到的面，默认0（正面），可选：0 正面，1 背面，2 双面 | 0 |

        <iframe src="https://playground.babylonjs.com/#6XIT28#4" width="100%" height="500"></iframe>

2. [球体(sphere)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/set/sphere/)
    1. API: `const sphere = BABYLON.MeshBuilder.CreateSphere("sphere", options, scene);`
    2. 常用参数:

        | 参数名 | 值类型&说明 | 默认值 |
        | ---- | ---- | ---- |
        | segments | (number) 水平分段数，决定了球体的精度，值越小棱角就越明显 | 32 |
        | diameter | (number) 球体通用直径，相当于XYZ方向都是同一个值 | 1 |
        | diameterX | (number) X轴直径，覆盖diameter的X方向的值 | diameter |
        | diameterY | (number) Y轴直径，覆盖diameter的Y方向的值 | diameter |
        | diameterZ | (number) Z轴直径，覆盖diameter的Z方向的值 | diameter |
        | arc | (number) 圆周率(纬度方向切割)，取值范围0到1，0.5相当于一个半球 | 1 |
        | slice | (number) 高度比 (经度方向切割)，取值范围0到1，与arc类似，只是切割方向不一样 | 1 |
        | updatable | (boolean) 如果设置为true，则表示该物体的顶点数据可以被更新 | false |
        | sideOrientation | (number) 物体可被看到的面，默认0（正面），可选：0 正面，1 背面，2 双面 | 0 |

        <iframe src="https://playground.babylonjs.com/#WIR77Z" width="100%" height="500"></iframe>

3. [锥柱体(cylinder)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/set/cylinder/)
    1. API: `const cone = BABYLON.MeshBuilder.CreateCylinder("cone", options, scene);`
    2. 常用参数:

        | 参数名 | 值类型&说明（中文） | 默认值 |
        | ---- | ---- | ---- |
        | height | (number) 圆柱体的高度 | 2 |
        | diameterTop | (number) 顶部圆盖的直径，可以为零以创建圆锥体，会覆盖diameter选项 | 1 |
        | diameterBottom | (number) 底部圆盖的直径，不能为零，会覆盖diameter选项 | 1 |
        | diameter | (number) 两个圆盖的直径 | 1 |
        | tessellation | (number) 径向边的数量 | 24 |
        | subdivisions | (number) 环的数量 | 1 |
        | faceColors | (Color4[]) 包含3个Color4的数组，0：底部圆盖，1：圆柱管，2：顶部圆盖 | 每个面默认Color4(1, 1, 1, 1) |
        | faceUV | (Vector4[]) 包含3个Vector4的数组，0：底部圆盖，1：圆柱管，2：顶部圆盖 | 每个面默认UVs(0, 0, 1, 1) |
        | arc | (number) 圆周率比例，范围0到1 | 1 |
        | hasRings | (boolean) 使细分彼此独立，这样它们就会成为不同的面 | false |
        | enclose | (boolean) 为切片圆柱体的每个细分添加两个额外的面，以围绕其高度轴将其闭合 | false |

        <iframe src="https://playground.babylonjs.com/#QANVC6" width="100%" height="500"></iframe>

4. [胶囊体(Capsule)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/set/capsule/)
    1. API: `const capsule = BABYLON.MeshBuilder.CreateCapsule("ribbon", options, scene);`
    2. 常用参数:

        | 参数名 | 值类型&说明（中文） | 默认值 |
        | ---- | ---- | ---- |
        | orientation? | (Vector3) 胶囊体初始方向的向量。 | Vector3.Up |
        | subdivisions | (number) 胶囊体管道部分沿orientation方向的子分段数量。 | 2 |
        | tessellation | (number) 胶囊体的圆柱分段数量。 | 16 |
        | height | (number) 胶囊体的高度或长度。 | 1 |
        | radius | (number) 胶囊体的半径。 | 0.25 |
        | capSubdivisions | (number) 胶囊体顶部和底部盖子部分沿orientation方向的子分段数量。 | 6 |
        | radiusTop? | (number) 顶部半径的覆盖值。 | - |
        | radiusBottom? | (number) 底部半径的覆盖值。 | - |
        | topCapSubdivisions? | (number) 顶部盖子子分段数量的覆盖值。 | - |
        | bottomCapSubdivisions? | (number) 底部盖子子分段数量的覆盖值。 | - |

        <iframe src="https://playground.babylonjs.com/#CL6HZ0" width="100%" height="500"></iframe>

5. [平面(plane)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/set/plane/)
    1. API: `const plane = BABYLON.MeshBuilder.CreatePlane("plane", options, scene);`
    2. 常用参数:

        | 参数名 | 值类型&说明（中文） | 默认值 |
        | ---- | ---- | ---- |
        | size | (number) 平面的边长 | 1 |
        | width | (number) 平面的宽度，覆盖size的宽度值 | size |
        | height | (number) 平面的高度，覆盖size的高度值 | size |
        | updatable | (boolean) 网格是否可更新 | false |
        | sideOrientation | (number) 面的朝向 | DEFAULTSIDE |
        | sourcePlane | (Plane) 源平面（数学平面），网格将被转换到该平面 | null |
        | frontUVs | (Vector4) 仅当sideOrientation为BABYLON.Mesh.DOUBLESIDE时设置 | Vector4(0,0, 1,1) |
        | backUVs | (Vector4) 仅当sideOrientation为BABYLON.Mesh.DOUBLESIDE时设置 | Vector4(0,0, 1,1) |

        <iframe src="https://playground.babylonjs.com/#Q9VZS9#4" width="100%" height="500"></iframe>

6. [碟片(Disc)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/set/disc/)
    1. API: `const disc = BABYLON.MeshBuilder.CreateDisc("disc", options, scene);`
    2. 常用参数:

        | 参数名 | 值类型&说明（中文） | 默认值 |
        | ---- | ---- | ---- |
        | radius | (number) 圆盘或多边形的半径 | 0.5 |
        | tessellation | (number) 圆盘/多边形的边数 | 64 |
        | arc | (number) 圆周比例（0到1之间） | 1 |
        | updatable | (boolean) 网格是否可更新 | false |
        | sideOrientation | (number) 面的朝向 | DEFAULTSIDE |

        <iframe src="https://playground.babylonjs.com/#MVSQWZ#1" width="100%" height="500"></iframe>

7. [圆环体(Torus)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/set/torus/)
    1. API: `const torus = BABYLON.MeshBuilder.CreateTorus("torus", options, scene);`
    2. 常用参数:

        | 参数名 | 值类型&说明（中文） | 默认值 |
        | ---- | ---- | ---- |
        | diameter | (number) 圆环的直径 | 1 |
        | thickness | (number) 圆环管道的厚度 | 0.5 |
        | tessellation | (number) 圆环分段数（沿圆周方向） | 16 |
        | updatable | (boolean) 网格是否可更新 | false |
        | sideOrientation | (number) 面的朝向 | DEFAULTSIDE |
        | frontUVs | (Vector4) 仅当sideOrientation为BABYLON.Mesh.DOUBLESIDE时设置 | Vector4(0,0, 1,1) |
        | backUVs | (Vector4) 仅当sideOrientation为BABYLON.Mesh.DOUBLESIDE时设置 | Vector4(0,0, 1,1) |

        <iframe src="https://playground.babylonjs.com/#IJGMXZ#1" width="100%" height="500"></iframe>

8. [地面(Ground)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/set/ground/)
    1. API: `const ground = BABYLON.MeshBuilder.CreateGround("ground", options, scene);`
    2. 常用参数:

        | 参数名 | 值类型&说明（中文） | 默认值 |
        | ---- | ---- | ---- |
        | width | (number) 平面的宽度尺寸 | 1 |
        | height | (number) 平面的高度尺寸 | 1 |
        | updatable | (boolean) 网格是否可更新 | false |
        | subdivisions | (number) 沿每个轴的正方形细分数量 | 1 |

        <iframe src="https://playground.babylonjs.com/#45R5JK" width="100%" height="500"></iframe>

9. [等高图地面(GroundFromHeightMap)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/set/ground_hmap/)
    1. API: `const ground = BABYLON.MeshBuilder.CreateGroundFromHeightMap("gdhm", url_to_height_map, options, scene);`
    2. 常用参数

        | 参数名 | 值类型&说明（中文） | 默认值 |
        | ---- | ---- | ---- |
        | width | (number) 地图宽度尺寸 | 10 |
        | height | (number) 地图高度尺寸 | 10 |
        | subdivisions | (number) 地图细分数量 | 1 |
        | minHeight | (number) 最小高度（海拔） | 0 |
        | maxHeight | (number) 最大高度（海拔） | 1 |
        | onReady | (function) 网格构建完成后的回调函数 | (mesh) => {return;} |
        | updatable | (boolean) 网格是否可更新 | false |

        <iframe src="https://playground.babylonjs.com/#LQ4LI1" width="100%" height="500"></iframe>

10. [文字(Text)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/set/text/)
    1. API: 

        ```js
        const fontData = await (await fetch("./fonts/Droid Sans_Regular.json")).json(); // Providing you have a font data file at that location
        const text = BABYLON.MeshBuilder.CreateText(
        "myText",
        "Hello World !! @ #$ % é",
        fontData,
        {
            size: 16,
            resolution: 64,
            depth: 10,
        },
        scene,
        );
        ```

    2. 常用参数:

        | 参数名 | 值类型&说明（中文） | 默认值 |
        | ---- | ---- | ---- |
        | size | (number) 每个字母的尺寸大小 | 50 |
        | resolution | (number) 曲线描边时使用的点数（决定字体平滑度） | 8 |
        | depth | (number) 挤出深度（沿Y轴方向） | 1.0 |
        | sideOrientation | (number) 面的朝向 | DOUBLESIDE（双面） |

        <iframe src="https://playground.babylonjs.com/#6I2RMN#2" width="100%" height="500"></iframe>



## [参量网格体(Parametric Meshes)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/param/)

1. [线(Lines)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/param/lines/)

    1. API: `let lines = BABYLON.MeshBuilder.CreateLines("lines", options, scene);`
    
        在3D世界中，线条由一系列分割的线段组成，它们首尾相连的排列在一起。在Babylon中，这些点由是三维向量表示，会由 BABYLON.Vect3 对象进行初始化，然后把初始化好的点按顺序形成数组，最后传递给CreateLines进行线条的绘制。

    2. 常用参数


        | 参数名       | 值类型&说明（中文）               | 默认值   |
        |--------------|----------------------------------|----------|
        | points       | (Vector3[]) Vector3数组，表示线条的路径 **必填** | -        |
        | updatable    | (boolean) 网格是否可更新          | false    |
        | instance     | (LineMesh) 要更新的线条网格实例   | null     |
        | colors       | (Color4[]) Color4数组，每个点的颜色 | null     |
        | useVertexAlpha | (boolean) 如果不需要Alpha混合则设为false（性能优化） | true |

        <iframe src="https://playground.babylonjs.com/#MZ7QRG#6" width="100%" height="500"></iframe>

2. [虚线(DashedLine)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/param/dashed/)

    <iframe src="https://playground.babylonjs.com/#TYF5GH#1" width="100%" height="500"></iframe>

3. [直线系统(LineSystem)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/param/line_system/)

    不连续线的组合

    <iframe src="https://playground.babylonjs.com/#Y7CS4N" width="100%" height="500"></iframe>

4. [油管线(GreasedLine)]()

    | **特性**         | **GreasedLine**                | **普通线条（LineMesh）**       |
    |------------------|-------------------------------|-------------------------------|
    | 宽度控制         | 任意宽度，支持两侧独立设置      | 固定宽度，仅单一侧面           |
    | 相机对齐         | 始终面向相机，粗细一致          | 可能因视角变化出现透视变形      |
    | 材质支持         | 完整支持Standard/PBR材质属性    | 仅基础颜色或简单纹理           |
    | 多线条性能       | 实例化支持，单次绘制多线条      | 每条线条独立绘制，性能较低      |
    | 动画参数         | 全参数可动画（宽度、颜色等）     | 仅位置、旋转等基础变换可动画    |

    <iframe src="https://playground.babylonjs.com/#H1LRZ3#98" width="100%" height="500"></iframe>

5. [绸带(Ribbon)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/param/ribbon/)

    1. API: `let ribbon = BABYLON.MeshBuilder.CreateRibbon("ribbon", options, scene);`
    2. 常用参数:

        | 参数名 | 值类型&说明（中文） | 默认值 |
        | ---- | ---- | ---- |
        | pathArray | (Vector3[][]) Vector3数组的数组，表示路径集合 **必填** | - |
        | closeArray | (boolean) 是否强制将最后一条路径与第一条路径连接 | false |
        | closePath | (boolean) 是否强制每条路径首尾相连 | false |
        | offset | (number) 仅当pathArray中只有一条路径时使用 | 路径长度的一半 |
        | updatable | (boolean) 网格是否可更新 | false |
        | sideOrientation | (number) 面的朝向 | DEFAULTSIDE |
        | frontUVs | (Vector4) 仅当sideOrientation为BABYLON.Mesh.DOUBLESIDE时设置 | Vector4(0,0, 1,1) |
        | backUVs | (Vector4) 仅当sideOrientation为BABYLON.Mesh.DOUBLESIDE时设置 | Vector4(0,0, 1,1) |
        | instance | (LineMesh) 要更新的带状网格实例 | null |
        | invertUV | (boolean) 在几何体构建时交换U和V坐标（纹理旋转90°） | false |

        <iframe src="https://playground.babylonjs.com/#F6JW5W#5" width="100%" height="500"></iframe>

6. [管子(Tube)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/param/tube/)
    1. API: `let tube = BABYLON.MeshBuilder.CreateTube("tube", options, scene);`
    2. 常用参数:

        | 参数名 | 值类型&说明（中文） | 默认值 |
        | ---- | ---- | ---- |
        | path | (Vector3[]) Vector3数组，表示管道的路径 **必填** | - |
        | radius | (number) 管道的半径 | 1 |
        | tessellation | (number) 径向分段数（决定管道横截面的圆形精度） | 64 |
        | radiusFunction | (function(index, distance)) 自定义半径函数，根据索引和距离返回半径值 | null |
        | cap | (number) 管道端盖模式：NO_CAP（无）、CAP_START（始端端盖）、CAP_END（末端端盖）、CAP_ALL（两端端盖） | NO_CAP |
        | arc | (number) 管道圆周比例（0到1，1为完整圆形，0.5为半圆） | 1 |
        | updatable | (boolean) 网格是否可更新 | false |
        | sideOrientation | (number) 面的朝向 | DEFAULTSIDE |
        | frontUVs | (Vector4) 仅当双面渲染时设置正面UV坐标 | Vector4(0,0, 1,1) |
        | backUVs | (Vector4) 仅当双面渲染时设置背面UV坐标 | Vector4(0,0, 1,1) |
        | instance | (LineMesh) 要更新的管道网格实例 | null |
        | invertUV | (boolean) 构建时交换UV坐标（纹理旋转90°） | false |

        <iframe src="https://playground.babylonjs.com/#WW0ALQ" width="100%" height="500"></iframe>

7. [挤压体(Extruding)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/param/extrude_shape/)
    8. API: `let extruded = BABYLON.MeshBuilder.ExtrudeShape("ext", options, scene);`
    9. 常用参数:

        | 参数名 | 值类型&说明（中文） | 默认值 |
        | ---- | ---- | ---- |
        | shape | (Vector3[]) Vector3数组，表示要拉伸的横截面形状 **必填** | - |
        | path | (Vector3[]) Vector3数组，表示拉伸的路径 **必填** | - |
        | scale | (number) 横截面形状的缩放比例 | 1 |
        | rotation | (number) 沿路径每一步旋转横截面的角度 | 0 |
        | cap | (number) 拉伸体的端盖模式：NO_CAP（无）、CAP_START（始端端盖）、CAP_END（末端端盖）、CAP_ALL（两端端盖） | NO_CAP |
        | closeShape | (boolean) 是否自动闭合横截面形状（无需手动重复添加起点） | false |
        | closePath | (boolean) 是否自动闭合拉伸路径（无需手动重复添加起点） | false |
        | updatable | (boolean) 网格是否可更新 | false |
        | sideOrientation | (number) 面的朝向 | DEFAULTSIDE |
        | frontUVs | (Vector4) 仅当双面渲染时设置正面UV坐标 | Vector4(0,0, 1,1) |
        | backUVs | (Vector4) 仅当双面渲染时设置背面UV坐标 | Vector4(0,0, 1,1) |
        | instance | (LineMesh) 要更新的拉伸网格实例 | null |
        | invertUV | (boolean) 构建时交换UV坐标（纹理旋转90°） | false |
        | firstNormal | (Vector3) 路径起点的法向量 | null |
        | adjustFrame | (boolean) 是否自动调整反向路径的切线（处理路径方向突变） | false |

        <iframe src="https://playground.babylonjs.com/#MR8LEL#2" width="100%" height="500"></iframe>

8. [(车床体)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/param/lathe/)
    1. API: `const lathe = BABYLON.MeshBuilder.CreateLathe("lathe", options, scene);`
    2. 常用参数:

        | 参数名 | 值类型&说明（中文） | 默认值 |
        | ---- | ---- | ---- |
        | shape | (Vector3[]) Vector3数组，表示旋转体的轮廓形状 **必填** | - |
        | radius | (number) 旋转半径 | 1 |
        | tessellation | (number) 旋转细分次数（决定圆周精度） | 64 |
        | arc | (number) 旋转弧度比例（0到1，1为完整圆周，0.5为半圆） | 1 |
        | cap | (number) 旋转体端盖模式：NO_CAP（无）、CAP_START（始端端盖）、CAP_END（末端端盖）、CAP_ALL（两端端盖） | NO_CAP |
        | closed | (boolean) 是否闭合旋转圆周（当使用arc参数时应设为false） | true |
        | updatable | (boolean) 网格是否可更新 | false |
        | sideOrientation | (number) 面的朝向 | DEFAULTSIDE |
        | frontUVs | (Vector4) 仅当双面渲染时设置正面UV坐标 | Vector4(0,0, 1,1) |
        | backUVs | (Vector4) 仅当双面渲染时设置背面UV坐标 | Vector4(0,0, 1,1) |
        | invertUV | (boolean) 构建时交换UV坐标（纹理旋转90°） | false |

        <iframe src="https://playground.babylonjs.com/#PQ0GIE" width="100%" height="500"></iframe>

9. [不规则多边形(IrregularPolygons)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/param/polygon/)
    1.  API: `const polygon = BABYLON.MeshBuilder.CreatePolygon("polygon", options, scene);`
    2.  常用参数:
        
        | 参数名 | 值类型&说明（中文） | 默认值 |
        | ---- | ---- | ---- |
        | shape | (Vector3[]) Vector3数组，表示要构建的形状轮廓 **必填** | - |
        | holes | (Vector3[][]) 孔洞数组，每个孔洞是一个Vector3数组，表示孔洞的轮廓 | [] |
        | updatable | (boolean) 网格是否可更新 | false |
        | sideOrientation | (number) 面的朝向 | DEFAULTSIDE |
        | frontUVs | (Vector4) 仅当双面渲染时设置正面UV坐标 | Vector4(0,0, 1,1) |
        | backUVs | (Vector4) 仅当双面渲染时设置背面UV坐标 | Vector4(0,0, 1,1) |

        <iframe src="https://playground.babylonjs.com/#ZD60FU" width="100%" height="500"></iframe>


## [多面体(Polyhedra Shapes)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/polyhedra/)


## [自定义网格体(Custom Meshes)](https://doc.babylonjs.com/features/featuresDeepDive/mesh/creation/custom/)