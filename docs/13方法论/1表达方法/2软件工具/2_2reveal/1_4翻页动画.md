# 幻灯片翻页动画

## 最佳实践

1. 要用翻页动画, 在每个幻灯页里定义动画fragments

2. grid布局中, 要保证文字前后的盒子模型一样大, 才不会出现突然拉伸的效果. 如下面代码中, 如果去掉`justify-items: center"`, 默认是`justify-items: stretch"`, 既div撑满整个grid各自, 在动画开始时, 失去grid的控制, 里面的文字大小就会根据这个尺寸来计算大小, 突然变大.

    ```htm
        <div class="reveal">
            <div class="slides">
                <section data-auto-animate>
                    <div data-id="container" style="display: grid; grid-template-columns: 1fr;justify-items: center">
                        <div data-id="1">动画分析</div>
                    </div>
                </section>
                <section data-auto-animate>
                    <div data-id="container" style="display: grid;grid-template-columns: 1fr 2fr;justify-items: center">
                        <div data-id="1" style="grid-area: 1 / 1 / 2 / 2;">动画分析</div>
                    </div>
                </section>
            </div>
        </div>
    ```

## [翻页动画](https://revealjs.com/transitions/)

### 幻灯页变换

1. 单页设置


    在幻灯页上添加`data-transition`和`data-transition-speed`属性来控制翻页的动画效果:


    ```html
    <section data-transition="zoom">
    <h2>This slide will override the presentation transition and zoom!</h2>
    </section>

    <section data-transition-speed="fast">
    <h2>Choose from three transition speeds: default, fast or slow!</h2>
    </section>
    ```

    `data-transition`的可选项有: `none/fade/slide/convex/concave/zoom`

2. [全局设置](https://revealjs.com/config/)


    可在`Reveal.initialize()`中通过如下参数全局控制:

    1. rtl: false. 幻灯片切换从右到左
    2. transition: 'slide'. 幻灯片切换动画, 可选`none/fade/slide/convex/concave/zoom`
    3. transitionSpeed: 'default'. 幻灯片切换速度, 可选`default/fast/slow`


### 分别控制幻灯页的进出

```htm
<section data-transition="slide-in fade-out">slide-in fade-out</section>
<section data-transition="fade-in slide-out">fade-in slide-out</section>
```

### 背景变换

1. 单个页面设置

    ```htm
    <section data-background-transition="zoom">slide-in fade-out</section>
    ```

2. [全局设置](https://revealjs.com/config/)

    ```js
    Reveal.initialize({
    backgroundTransition: 'slide',
    });
    ```


## auto-animation


不同的幻灯片之间使用data-auto-animate属性, 可进行动画过渡, 而不是默认的翻页效果.

### [元素匹配](https://revealjs.com/auto-animate/#how-elements-are-matched)

1. 自动匹配

    默认reveal会在两个幻灯片之间通过, 
    1. 文本内容(text content)
    2. 节点类型(node type)
    3. DOM中的顺序

    等来确定匹配的元素, 如img标签, 使用src属性来匹配.


2. 手动匹配

    可以在元素中添加data-id属性来指定匹配


    [动画设置](https://revealjs.com/auto-animate/#animation-settings)


    [动画分组](https://revealjs.com/auto-animate/#auto-animate-id-%26-restart)


    在section元素中, 使用data-auto-animate-id属性, 给动画分组. 不同分组间, 就会是默认翻页模式.




## [全局控制参数](https://revealjs.com/config/)



可在`Reveal.initialize()`中控制好如下的参数:


4. autoAnimate: true. 全局动画控制.
5. autoAnimateMatcher: null. 🔴
6. autoAnimateEasing: 'ease'.
7. autoAnimateDuration: 1.0.
8. autoAnimateUnmatched: true.
10. autoAnimateStyles: []. 可以动画的css样式.













