# 插件(Plugin)




## 内置插件

```js
import Reveal from 'dist/reveal.esm.js';
import Markdown from 'plugin/markdown/markdown.esm.js';
import Highlight from 'plugin/highlight/highlight.esm.js';
import Search from 'plugin/search/search.esm.js';
import RevealNotes from 'plugin/notes/notes.esm.js';
import RevealMath from `plugin/math/math.esm.js`;
import RevealZoom from 'reveal.js/plugin/zoom/zoom.js';

Reveal.initialize({ plugins: [Markdown, Highlight, Search, RevealNotes, RevealZoom] });

```



## [tldraw](https://www.tldraw.com/)


前端的画图工具, 用于展示的讲解.


安装

```js
import { Tldreveal } from "tldreveal"
import "tldreveal/dist/esm/index.css"

// Initialize Reveal.js with the Tldreveal plugin
Reveal.initialize({
    // tldreveal does not support scroll view
    scrollActivationWidth: undefined,
    plugins: [ Tldreveal ]
})
```


✨在画箭头(A)后, 工具栏自动切回到选择(V), 然后箭头出现节点标识, 可以对箭头进行调整. 但是录像的时候, 不想出现节点标识, 可以在箭头画完, 松鼠标之前, 再按一次箭头(A). 这时箭头结束, 工具仍在箭头(A)工具上, 就不会出现节点标识了. 换个角度: 也就是在画完箭头前, 就想好下一步要做什么, 比如接下来继续画箭头

✨可以在[tldraw](https://www.tldraw.com/)左上角点击菜单栏, 找到`键盘快捷方式`, 查看所有的快捷键. 常用快捷键有:

1. 专注模式切换: Ctrl+.
2. 工具类
    1. 选择工具: V ✨注意和reveal.js的暂停重叠, 需要调整
    2. 画笔工具: D
    3. 橡皮工具: E
    4. 手型工具: H
    5. 矩形工具: R
    6. 椭圆工具: O
    7. 箭头工具: A
    8. 直线工具: L
    9. 文本工具: T
    10. 框架工具: F
    11. 便签工具: N
    12. 激光笔工具: K
3. 编辑类
    1. 撤销: Ctrl+Z
    2. 重做: Ctrl+Shift+Z
    3. 剪切: Ctrl+X
    4. 复制: Ctrl+C
    5. 粘贴: Ctrl+V
    6. 全选: Ctrl+A
    7. 删除: Del
    8. 复制: Ctrl+D


# markdown

原生revealjs的MD插件不支持MD中的`<script>`标签, 也不能在`index.html`中写js脚本获得MD中的DOM元素, 所以无法使用Echarts.  

另外需要使用`***`和`---`来分隔不同的幻灯片, 与书写MD本身有一些冲突, 不够通用.

解决方案是使用`pandoc`先将MD文件转化为revealjs文件, 可参考[slide-shows](https://pandoc.org/MANUAL.html#slide-shows). 然后将`<div class="reveal">`的内容复制到原生的revealjs工程中的`index.html`中. 这样可以解决上面的两个问题:

1. 在需要插入echarts的地方, `div`直接写入对应幻灯片的, 然后将数据写入`<script>`中. 注意这都是在`index.html`的操作, 而不是在MD文件中的.
2. `pandoc`会自动将一级标题转化为横向的幻灯片, 二级标题转换为纵向的幻灯片, 这样就和MD书写统一了

## 使用pandoc生成

参考[slide-shows](https://pandoc.org/MANUAL.html#slide-shows)与[Pandoc与Reveal.js制作幻灯片](https://zhuanlan.zhihu.com/p/113146276)

`pandoc example.md -o example.html -t revealjs -s`

## revealjs原生的markdown支持

使用`***`来分隔横向的幻灯片, 使用`---`来分隔纵向的幻灯片.

### 在`section`的属性配置MD

- 配置`<section>`
    - `data-markdown="example.md"`, markdown的源文件位置, 默认是`reveal.js`工程的根目录
    - `data-separator="\*\*\*"`, 配置横向幻灯片的分隔符, 这里使用MD的`***`分隔线来代替这里注意`***`要使用转义
    - `data-separator-vertical="---"`, 配置纵向幻灯片的分隔符, 这里使用MD的`---`分割线来代替
    - `data-charset="utf8"`, 设置MD的编码格式
    > 无论`***`还是`---`在MD中的语法显示都是一样的, 所以无法做到MD和reveal的完全对应, 但暂时没有更好的办法.

- 开启MD插件, 这个插件是reveal原生的, 不需要额外导入.

    ```js
    Reveal.initialize({
        hash: true,
        plugins: [RevealMarkdown]
    });
    ```

### 书写MD

```markdown
## 1

slide 1

***

## 2.1

slide 2.1

---

## 2.2

slide 2.2

```
