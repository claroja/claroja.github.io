# 论面向对象设计方法及其应用

系统设计师根据系统分析的结果，运用系统科学的思想和方法，设计出能满足用户需求的目标（或目的）系统的过程。面向对象设计方法是一种接近现实的系统设计方法。在该方法中，数据结构和在数据结构上定义的操作算法封装在一个对象之中。

请围绕“论面向对象设计方法及其应用”论题，依次从以下三个方面进行论述。
1、概要叙述你所参与管理和开发的项目以及你在其中所承担的主要工作。
2、面向对象设计方法包含多种设计原则，请简要描述其中的三种设计原则。
3、具体阐述你参与管理和开发的项目是如何遵循这三种设计原则进行信息系统设计的。


## 正文

`面向对象的设计原则包含多种原则`，其中的单一责任原则、依赖导致原则、里式替换原则是比较常用的原则。单一责任原则（Single Responsibility Principle, SRP）：就一个类而言，应该仅有一个引起它变化的原因。即，当需要修改某个类的时候原因有且只有一个，让一个类只做一种类型责任。依赖倒置原则（Dependence Inversion Principle, DIP）：抽象不应该依赖于细节，细节应该依赖于抽象。即，高层模块不应该依赖于低层模块，二者都应该依赖于抽象。里氏替换原则（Liskov Substitution Principle, LSP）：子类型必须能够替换掉他们的基类型。即，在任何父类可以出现的地方，都可以用子类的实例来赋值给父类型的引用。当一个子类的实例应该能够替换任何其超类的实例时，它们之间才具有是一个（isa)关系。在分析和设计系统时，需要综合采用多种不同的原则，来应对系统不通的质量需求。

`在项目之初，我充分认识到该项目的特点和挑战`：由于业主方是一68个广受欢迎的白酒品牌，可以预见到电子商城APP一旦发布，会引来海量用户的广泛关注，因此业主方要求软件功能必须满足线上下单、支付、物流、溯源、防伪等多种完整业务链功能。由于业务流程链路长，涉及单位多，功能种类繁杂，关系到金融体系及风险，所以在设计时必须保持严谨、正确、科学的设计方法，才能对项目的功能和质量目标起到保障作用。因此我决定运用面向对象的设计方法，遵从单一责任原则、依赖倒置原则、里式替换原则，力争实现项目的功能需求可变性、系统可扩展性、可修改性等。`下文将详细阐述该项目中如何实施面向对象的设计实践`。


一、`遵从单一责任原则，对系统进行建模`。在项目前期阶段，项目组针对需求进行建模，得到了顶层架构图、用例与用例图、领域概念模型等。为了更好的实现用例，我带若项目组一起针对用例及概念模型，识别出大量的边界类、实体类、控制类。按照单一责任原则，每一个类只设计成代表一种实体、一种边界元素或一种控制逻辑。例如在最核心的电子商城系统中，边界类有购物车、商品信息展示、订单下单控件等，实体类有用户、商品、订单等。为了更好的处理实体类，我们新增了大量的业务控制类，比如浏览商品、创建订单、支付订单等。在系统的最底层，每个类都只代表一种事务，因此很容易识别出全面、所有、完整的类，为之后的交互建模打下了良好的基础。

二、`遵从依赖导致原则，对业务进行解耦`。在控制类中，是对业务逻辑进行建模和实现，往往操作的是实体类。而实体类恰恰又反映了系统的底层细节，所以根据依赖导致原则，我们要解耦控制类和实体类之间的耦合关系，避免实体类有修改时导致控制类也需要进行修改。我们把底层的实体类操作抽取出接口（interface），在接口中定义业务某种行为，然后采用实现类来实现该接口。在控制类中，仅仅了解接口的存在以及意义，并针对接口编程，无需染指底层的实现，有效隔绝上层业务逻辑和底层实现，既达到了解耦，又实现了依赖导致的思想，提升系统稳定性。例如在商城系统中，由于商品的类型是多种多样的，所以其对应的具体实体类也是有很多的。例如散酒类、盒装类、整箱类。他们的下单、库存校验、余额结算都互不一样。如果把这些实体类都直接被控制类所操作，势必会引起业务逻辑的繁杂，带来低扩展性和低维护性。于是我们定义了很多操作接口，来代表对每个实体类的操作。例如商品下单、商品库存校验、商品余额结算等。再由另外的接口实现类来分别实现对不同商品的下单、库存校验、余额结算等逻辑。这样上层业务在做“支付功能”时，只需要针对接口做业务编程，依次访问商品下单、库存校验、余额结算等接口，而无需关注底层如何实现。这样每层逻辑泾渭分明，解耦清晰，达到了很高的可修改性和扩展性。

三、`遵从里式替换原则，实现业务逻辑的复用`。在软件系统中，各种实体之间都会有各种关系，比如继承能够带来“is-a”的关系。梳理这样的关系有助于我们识别出完整的实体类家族。例如商城系统中，用户分为未登录用户、普通用户、VIP用户、企业用户等，其权限也是互不相同的。我们对这些用户进行关系建模，抽象出一个“用户类”作为父类，在处理用户的通用控制类中，它能够代表所有类型的用户。例如在通用控制类“用户登陆”“修改用户信息”“用户查询”中，面向抽象用户进行建模设计，能够对所有类型的用户一视同仁，也因此达到了对所有用户类型实现了通用业务需求。在业务控制类中，所有的抽象用户的引用都可以替换成具体的用户引用，而无需修改业务逻辑，达到了很高的业务逻辑复用的目的，为系统的构件化打下了基础。

综合运用上述三种设计原则，我们运用4+1视图来整理所有建模并绘制出UML图。在技术支撑方案，我们采用了Web系统分层设计，采用Spring容器为基础的微服务，来运行所有的边界类、实体类和控制类，处理所有的业务逻辑。在各业务模块之间采用RabbitMQ来实现异步队列，进一步提高应用层性能；在数据存储层采用mysql来构建高可用集群，采用mybatis作为访问组件，保障了系统性能指标。

得益于面向对象设计方法的实施，以及遵从面向对象设计原则，在面对多变的、纷繁复杂的需求时，我们得心应手，应对自如，项目开发非常顺利。经过全体成员历时6个月的艰苦奋战，我们按期完成了项目‘自标，并于2022年4月1日试运行及验收测试，于5月1日正式全面运营，第一次秒杀活动系统运行平稳，顺利通过大考。但是项目建设过程中也存在一些不足，由于疫情的原因很多同事无法现场办公，影响了沟通的效率。我们采取了视频电话+邮件确认的制度，保证每个同事的信息共享，解决了信息传达的问题。所以，面向对象设计方法是现代软件建设的重要方法，它关系着一个项目的成败。我会继续提升系统设计技术，使得水平能力更上一层楼。























