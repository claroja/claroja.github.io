# 结构化设计


## 最佳实践

### 题目总结

- 48.内聚类型从高到低的正确排序是( )。
    - A.功能、顺序、通信、过程、时间、逻辑、偶然
    - B.顺序、通信、过程、逻辑、功能、时间
    - C.逻辑、顺序、过程、功能、时间、通信
    - D.时间、功能、过程、通信、顺序、逻辑

    答案: A

1. 软件设计过程中，可以用耦合和内聚两个定性标准来衡量模块的独立程度，耦合衡量不同模块彼此间互相依赖的紧密程度，应采用以下设计原则______，内聚衡量一个模块内部各个元素彼此结合的紧密程度，以下属于高内聚的是______。

    - A.尽量使用内容耦合、少用控制耦合和特征耦合、限制公共环境耦合的范围、完全不用数据耦合
    - B.尽量使用数据耦合、少用控制耦合和特征耦合、限制公共环境耦合的范围、完全不用内容耦合
    - C.尽量使用控制耦合、少用数据耦合和特征耦合、限制公共环境耦合的范围、完全不用内容耦合
    - D.尽量使用特征耦合、少用数据耦合和控制耦合、限制公共环境耦合的范围、完全不用内容耦合

    - A.偶然内聚
    - B.时间内聚
    - C.功能内聚
    - D.逻辑内聚
    答案：B C

### 考察问

1. 结构化设计分为两个阶段:
    1. `()`
    2. `()`

2. 模块结构
    1. `()`: 信息隐藏原则要求采用封装技术，将程序模块的实现细节(过程或数据)隐藏起来
    2. `()`: 在描述一个模块时，必须按模块的外部特性与内部特性分别描述。
    3. `()`: ✨`()`
    4. `()`: ✨`()`


### 考察点

1. 结构化设计分为两个阶段:
    1. `概要设计`
    2. `详细设计`

2. 模块结构
    1. `信息隐藏与抽象`: 信息隐藏原则要求采用封装技术，将程序模块的实现细节(过程或数据)隐藏起来
    2. `模块化`: 在描述一个模块时，必须按模块的外部特性与内部特性分别描述。
    3. `耦合`: ✨`直接数据标记控制通信的公共内容`
    4. `内聚`: ✨`能顺通过时既然`

## 结构化设计

结构化设计(Structured Design, SD) 是一种面向数据流的设计方法，它以SRS和SA阶段所产生的数据流图和数据字典等文档为基础，是一个自顶向下、逐步求精和模块化的过程。分为`概要设计`和`详细设计`两个阶段，其中:

- 概要设计的主要任务是确定软件系统的结构，对系统进行模块划分，确定每个模块的功能、接口和模块之间的调用关系
- 详细设计的主要任务是为每个模块设计实现的细节。



🔒问题

1. 软件概要设计将软件需求转化为软件设计的( )和软件的( )。

    - A. 算法流程
    - B. 数据结构
    - C. 交互原型
    - D. 操作接口

    - A. 系统结构
    - B. 算法流程
    - C. 内部接口
    - D. 程序流程


    参考答案：B A



## 模块结构

人们在解决复杂问题时使用的一个很重要的原则，就是将它分解成多个小问题分别处理，在处理过程中，需要根据系统总体要求，协调各业务部门的关系。在SD中，这种功能分解就是将系统划分为模块，模块是组成系统的基本单位，它的特点是可以自由组合、分解和变换，系统中任何一个处理功能都可以看成一个模块。

- 信息隐藏与抽象

    信息隐藏原则要求采用封装技术，将程序模块的实现细节(过程或数据)隐藏起来，对于不需要这些信息的其他模块来说是不能访问的，使模块接口尽量简单。

- 模块化

    在描述一个模块时，必须按模块的外部特性与内部特性分别描述。模块的外部特性是指模块的模块名、参数表和给程序乃至整个系统造成的影响，而模块的内部特性则是指完成其功能的程序代码和仅供该模块内部使用的数据。对于模块的外部环境(例如，需要调用这个模块的上级模块)来说，只需要了解这个模块的外部特性就足够了，不必了解它的内部特性。而软件设计阶段，通常是先确定模块的外部特性，然后再确定它的内部特性。

- 耦合

    耦合表示模块之间联系的程度。

    |耦合类型|描述|
    | ---- | ---- |
    |非直接耦合|两个模块之间没有直接关系，它们之间的联系完全是通过上级模块的控制和调用来实现的|
    |数据耦合|一组模块借助参数表传递简单数据|
    |标记耦合|一组模块通过参数表传递记录等复杂信息(数据结构)|
    |控制耦合|模块之间传递的信息中包含用于控制模块内部逻辑的信息|
    |通信耦合|一组模块共用了一组输入信息，或者它们的输出需要整合以形成完整数据，即共享了输入或输出|
    |公共耦合|多个模块都访问同一个公共数据环境，公共的数据环境可以是全局数据结构、共享的通信区、内存的公共覆盖区等|
    |内容耦合|一个模块直接访问另一个模块的内部数据；一个模块不通过正常入口转到另一个模块的内部；两个模块有一部分程序代码重叠；一个模块有多个入口等|

- 内聚

    内聚表示模块内部各代码成分之间联系的紧密程度，是从功能角度来度量模块内的联系，一个好的内聚模块应当恰好做目标单一的一件事情。

    |内聚类型|描述|
    | ---- | ---- |
    |功能内聚|完成一个单一功能，各个部分协同工作，缺一不可|
    |顺序内聚|处理元素相关，而且必须顺序执行|
    |通信内聚|所有处理元素集中在一个数据结构的区域上|
    |过程内聚|处理元素相关，而且必须按特定的次序执行|
    |时间内聚|所包含的任务必须在同一时间间隔内执行|
    |逻辑内聚|完成逻辑上相关的一组任务|
    |偶然内聚|完成一组没有关系或松散关系的任务|

    遵循“高内聚、低耦合”的设计原则。



## 系统结构图

系统结构图 (Structure Chart, SC) 又称为模块结构图. 详细设计的主要任务是设计每个模块的实现算法、所需的局部数据结构。详细设计的目标有两个：实现模块功能的算法要逻辑上正确和算法描述要简明易懂。详细设计必须遵循概要设计来进行。详细设计方案的更改，不得影响到概要设计方案；如果需要更改概要设计，必须经过项目经理的同意。详细设计，应该完成详细设计文档，主要是模块的详细设计方案说明。

详细设计的表示工具有图形工具、表格工具和语言工具。

1. 图形工具。

    具体的图形有业务流图、程序流程图、PAD  (Problem Analysis Diagram) 图、 NS流程图(由Nassi和Shnei derman开发，简称 NS) 等。

    程序流程图(Program Flow Diagram，PFD)又称为程序框图，是使用最广泛然的一种描述程序逻辑结构的工具。它用方框表示一个处理步骤，菱形表示一个逻辑条件，箭头表示控制流向。其优点是：结构清晰，易于理解，易于修改。缺点是：只能描述执行过程而不能描述有关的数据。

    NS流程图，也称为盒图，是一种强制使用结构化构造的图示工具，也称为方框图。其具有以下特点：功能域明确、不可能任意转移控制、很容易确定局部和全局数据的作用域、很容易表示嵌套关系及模板的层次关系。

    PAD图是一种改进的图形描述方式，可以用来取代程序流程图，相比程序流程图更直观，结构更清晰。最大的优点是能够反映和描述自顶向下的历史和过程。 PAD提供了5种基本控制结构的图示，并允许递归使用。 PAD 的特点如下：


2. 表格工具。

    可以用一张表来描述过程的细节，在这张表中列出了各种可能的操作和相应的条件。

3. 语言工具。


    用某种高级语言来描述过程的细节，例如伪码和PDL(Program Design Language) 等。


## 数据库设计


数据库设计的内容包括：需求分析、概念结构设计、逻辑结构设计、物理结构设计、数据库的实施和数据库的运行和维护。本小节主要讨论数据库的概念结构设计，其他内容详见数据库章节。

### 概念结构设计

通常采用实体－联系图(Entity Relationship Diagram,  E-R 图)来表示。E-R 图提供了表示实体类型、属性和联系的方法，用来描述现实世界的概念模型。

在 E-R 图中有如下成分：矩形框表示实体；菱形框表示联系；椭圆形框表示实体或联系的属性，对千主属性名，则在其名称下画一条下画线。


1. 实体。一般认为，客观上可以相互区分的事物就是实体，实体可以是具体的人和物，也可以是抽象的概念与联系。关键在千一个实体能与另一个实体相区别，具有相同属性的实体具有相同的特征和性质。用实体名及其属性名集合来抽象和刻画同类实体。在 E-R 图中用矩形表示，矩形框内写明实体名；比如学生张三、学生李四都是实体对象。
2. 属性。实体所具有的某一特性，一个实体可由若干个属性来刻画。属性不能脱离实体，属性是相对实体而言的。在 E-R 图中用椭圆形表示，并用无向边将其与相应的实体连接起来；比如学生的姓名、学号、性别都是属性。如果是多值属性的话，在椭圆形外面再套实线椭圆。如果是派生属性则用虚线椭圆表示。
3. 联系。联系也称关系，信息世界中反映实体内部或实体之间的关联。实体内部的联系通常是指组成实体的各属性之间的联系；实体之间的联系通常是指不同实体集之间的联系。在E-R 图中用菱形表示，菱形框内写明联系名，并用无向边分别与有关实体连接起来，同时在无向边旁标上联系的类型(1 :  I,  1  :  n 或 m: n) 。比如老师给学生授课存在授课关系，学生选课存在选课关系。如果是弱实体的联系则在菱形外面再套菱形。

E-R 图中的联系存在 3 种一般性约束：一对一约束(联系)、一对多约束(联系)和多对多约束(联系)，它们用来描述实体集之间的数量约束。


1. 一对一联系 (1 :  1) 。

    对于两个实体集 A 和 B, 若 A 中的每一个值在 B 中至多有一个实体值与之对应，反之亦然，则称实体集 A 和 B 具有一对一的联系。一个学校只有一个正校长，而一个校长只在一个学校中任职，则学校与校长之间具有一对一联系。

2. 一对多联系(1 :  N) 。

    对于两个实体集 A 和 B, 若 A 中的每一个值在 B 中有多个实体值与之对应，反之 B 中每一个实体值在 A 中至多有一个实体值与之对应，则称实体集 A 和 B 具有一对多的联系。例如，某校教师与课程之间存在一对多的联系“教”，即每位教师可以教多门课程，但是，每门课程只能由一位教师来教，教师与课程之间具有一对多联系。一个专业中有若干名学生，而每个学生只在一个专业中学习，专业与学生之间具有一对多联系。

3. 多对多联系 (M :  N) 。

    对千两个实体集 A 和 B, 若 A 中每一个实体值在 B 中有多个实体值与之对应，反之亦然，则称实体集 A 与实体集 B 具有多对多联系。实际上，一对一联系是一对多联系的特例，而一对多联系又是多对多联系的特例。


例如，表示学生与课程间的联系”选修”是多对多的，即一个学生可以学多门课程，而每门课程可以有多个学生来学。

联系也可能有属性。例如，学生”选修“某门课程所取得的成绩，既不是学生的属性也不是课程的属性。由于“成绩“既依赖于特定学生又依赖于某门特定的课程，所以它是学生与课程之间的联系”选修”的属性。 



