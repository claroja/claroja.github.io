# 路由技术

## 路由功能

路由功能由路由器来提供，具体包括：

1. 异种网络互连，比如具有异种子网协议的网络互连；
2. 子网协议转换，不同子网间包括局域网和广域网之间的协议转换；
3. 数据路由，即将数据从一个网络依据路由规则转发到另一个网络；
4. 速率适配，利用缓存和流控协议进行适配；
5. 隔离网络，防止广播风暴，实现防火墙；
6. 报文分片和重组，超过接口的MTU报文被分片，到达目的地之后的报文被重组； 
7. 备份、流量控制，如主备线路的切换和复杂流量控制等。 

## 路由原理

路由器工作在OSI七层协议中的第3层，即网络层。其主要任务是接收来源于一个网络接口的数据包，通常根据此数据包的目地址决定待转发的下一个地址(即下一跳地址)。路由器中维持着数据转发所需的路由表，所有数据包的发送或转发都通过查找路由表来实现。这个路由表可以静态配置，也可以通过动态路由协议自动生成。


## 路由器协议

1. 内部网关协议(Interior Gateway Protocol，IGP)，指在一个自治系统（Autonomous System，AS）内运行的路由协议。
2. 外部网关协议(Exterior Gateway Protocol，EGP)，指在自治系统AS之间的路由协议。 
3. 边界网关协议(Border Gateway Protocol，BGP)，Internet的网络规模庞大，网络情况复杂，EGP已不适用，在EGP的经验之上制定了新的网关协议BGP，也是Internet上唯一的网关协议。 


