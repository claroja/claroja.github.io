# 类型断言


## 最佳实践

解决TS报错:`Type ‘HTMLElement | null’ is not assignable to type ‘HTMLElement’. Type ‘null’ is not assignable to type ‘HTMLElement’`. 既可能为null的类型, 不能赋值给具体的类型的变量.


1. 使用类型断言: `const elem: HTMLElement = document.getElementById('imgTooles') as HTMLElement;`
2. 使用if进行非空的判断: `if (var): {}`
3. 禁用 strict 模式: 修改 tsconfig.ts 文件, 将"strict": true, 改为 "strict": false.


## 概念

类型断言 (Type Assertion) 是一种强制类型转换的方式。有两种类型断言的语法：


## 用法


### 基本用法


1. 尖括号语法：`<Type>variable`
2. as 语法：`variable as Type`

这两种语法的效果是相同的，但是 as 语法更加符合 JSX 的语法规范。下面是一个简单的例子：


```js
const str: any = 'hello world';
const len1: number = (<string>str).length;
const len2: number = (str as string).length;
```

这里将 str 断言为 string 类型，然后获取它的 length 属性。注意，这里的 any 类型可以接受任何类型的值

### 非空断言


在 TypeScript 中，有些变量可能会为 null 或 undefined，但是我们确定它们不会为这两个值。这时候可以使用非空断言：

```js
const el: HTMLElement = document.getElementById('app')!;
```
这里的 ! 符号表示我们断言 getElementById 方法返回的值不会为 null 或 undefined。

当然, 可以使用如下的语法

```js

const el: HTMLElement = document.getElementById('app') as HTMLElement;
```


## 参考

1. https://www.javascriptcn.com/post/677b77485c5a933a34244eec


