# 位运算



符号|描述|规则
--|--|--
`&`|与|两个位都为1时，结果才为1
`|`|或|两个位都为0时，结果才为0
`^`|异或|两个位相同为0，相异为1
`~`|取反|0变1，1变0
`<<`|左移|各二进位全部左移若干位，高位丢弃，低位补0
`>>`|右移|各二进位全部右移若干位，对无符号数，高位补0，有符号数，各编译器处理方法不一样，有的补符号位（算术右移），有的补0（逻辑右移）


## 按为与运算
规则,`bit`位视角:
`0&0=0  0&1=0  1&0=0  1&1=1`
总结：两位同时为1，结果才为1，否则结果为0。
理解: 和1与, 值不变, 和0与, 值变成0
例如：3&5 即 0000 0011& 0000 0101 = 0000 0001，因此 3&5 的值得1。
注意：负数按补码形式参加按位与运算。

### 用途

1. 清零(与是用来清零的)
按位与的作用是, 如果与右侧bit位为1, 则左侧对应的bit位不变, 如果右侧bit位为0, 则左侧对应bit为变为0
```python
# 将0b11111111中间的4位变为0
bin(0b11111110 & 0b11000011) # '0b11000010'
```

2. 取指定位的值
右侧数指定位为1, 其余为0即可.
```python
# 取左侧数的后四位, 只需右侧后四位为1, 其他为0即可
bin(0b10101110 & 0b00001111)  #  '0b1110'
```

3. 判断奇偶
只需取最后一位, 结果是0则为偶数, 结果是1则为奇数.
```python
197 & 1 # 结果是1, 为奇数
bin(197) # '0b11000101'
```

## 按位或
规则, `bit`视角:
`0|0=0  0|1=1  1|0=1  1|1=1`
总结：参加运算的两个对象只要有一个为1，其值为1。
理解: 和0或, 值不变, 和1或值变成1
例如：3|5即 0000 0011| 0000 0101 = 0000 0111，因此，3|5的值得7。
注意：负数按补码形式参加按位或运算。

1. 将某些位置设置成1(或是用来置一的)

```python
# 将左侧的后四位全部换成1
bin(0b10101110 | 0b00001111) # '0b10101111'
```


## 按位异或
运算规则, bit视角:
`0^0=0  0^1=1  1^0=1  1^1=0`
总结：参加运算的两个对象，如果两个相应位相同为0，相异为1。
理解: 按位异或的作用, 和0异或的值不变, 和1异或的值取反
### 应用
1. 指定位翻转
右侧将需要翻转的bit位设置成1即可
```python
bin(0b10101110 ^ 0b00001111) # '0b10100001'
```


## 按位取反
运算规则, bit视角:
`~1=0  ~0=1`
总结：对一个二进制数按位取反，即将0变1，1变0。


## 按位左移
定义：将一个运算对象的各二进制位全部左移若干位（左边的二进制位丢弃，右边补0）。
例子: 设 a=1010 1110，a = a<< 2 将a的二进制位左移2位、右补0，即得a=1011 1000。
理解: 若左移时舍弃的高位不包含1，则每左移一位，相当于该数乘以2。

## 按位右移

定义：将一个数的各二进制位全部右移若干位，正数左补0，负数左补1，右边丢弃。
例如：a=a>>2 将a的二进制位右移2位，左补0 或者 左补1得看被移数是正还是负。
理解: 操作数每右移一位，相当于该数除以2。

## 复合赋值运算符
运算符|例子|理解
--|--|--
`&=`|`a&=b`|`a=a&b`
`|=`|`a|=b`|`a=a|b`
`>>=`|`a>>=b`|`a=a>>b`
`<<=`|`a<<=b`|`a=a<<b`
`^=`|`a^=b`|`a=a^b`


refs:
https://www.runoob.com/w3cnote/bit-operation.html